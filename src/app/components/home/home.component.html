<div class="bodyclass">
    <div>
        <div class="col-md-12 flexdivHeader">
            <div class="col-md-2"></div>
            <div class="col-md-8 text-center">
                <h4>
                    <b>{{firstFormGroup.controls['BusinessgroupName'].value}}</b>
                </h4>
            </div>
            <div class="col-md-2 p-0 flexRight">
                <button class="btn btn-success text-center brownColor mb-1" (click)="Cancel()">
                    <img alt="phonevector" class="filter-green" src="../../../assets/img/icons/Cancel.svg">
                    Cancel
                </button>
            </div>
        </div>
    </div>
    <div>
        <mat-stepper [linear]="isLinear" #stepper>
            <mat-step [stepControl]="firstFormGroup">
                <form [formGroup]="firstFormGroup">
                    <div class="wrapper" style="background: white;border-radius: 15px;">
                        <h4>
                            <b>Create Business Group</b>
                        </h4>
                        <ng-template matStepLabel>Group</ng-template>
                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-6">
                                <div class="form-row">
                                    <div class="col">
                                        <label for="groupName">
                                            Business Group Name
                                        </label>
                                        <input id="groupName" class="form-control" formControlName="BusinessgroupName"
                                            autocomplete="off"
                                            [ngClass]="{ 'is-invalid': submitted && firstFormGroup.controls['BusinessgroupName'].errors }">
                                        <div *ngIf="submitted && firstFormGroup.controls['BusinessgroupName'].errors"
                                            class="invalid-feedback">
                                            <div
                                                *ngIf="firstFormGroup.controls['BusinessgroupName'].errors['required']">
                                                Business Group Name is required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-row">
                                    <div class="col-md-12">
                                        <label>Business Group Logo</label>
                                    </div>
                                    <div class="col-md-12">
                                        <input type="file" class="custom-file" id="businessGroupLogo"
                                            (change)="onChange($event)">
                                        <label class="custom-file-label" for="businessGroupLogo">
                                            Upload Image (Upto 1 MB)
                                        </label>
                                        <div style="width: 80%;background-color: #7DA3BA;height: 20%;margin-top: 1%;
                                        border-radius: 21px;font-size: 65%;" class="progress-bar" role="progressbar"
                                            [style.width]="uploadProgressGroupLogo"
                                            aria-valuenow="uploadProgressGroupLogo" aria-valuemin="0"
                                            aria-valuemax="100"
                                            *ngIf="filePathGroupLogo != null && filePathGroupLogo !=undefined">
                                            {{uploadProgressGroupLogo}}
                                        </div>
                                    </div>
                                    <div class="col" *ngIf="filePathGroupLogo != null" style="position: relative;">
                                        <img src="{{filePathGroupLogo}}" height="70px" />
                                        <mat-icon class="cancel-upload" (click)="cancelUpload()"
                                            *ngIf="uploadProgressGroupLogo !=  undefined || (filePathGroupLogo != null && filePathGroupLogo !=undefined && filePathGroupLogo != '')"
                                            style="color: black; overflow: inherit;position: absolute;margin-left: -4%;">
                                            cancel
                                        </mat-icon>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-6">
                                <div class="form-row">
                                    <div class="col">
                                        <label for="Industry">
                                            Industry Type
                                        </label>
                                        <ng-multiselect-dropdown [placeholder]="'Choose Industry Type'" id="Industry"
                                            [settings]="dropdownSettingsSingle" [data]="industryTypeData"
                                            formControlName="IndustryTypeID">
                                        </ng-multiselect-dropdown>
                                        <div style="width:100%;"
                                            *ngIf="submitted && firstFormGroup.controls['IndustryTypeID'].errors"
                                            class="invalid-feedback">
                                            <div *ngIf="firstFormGroup.controls['IndustryTypeID'].errors['required']">
                                                Industry Type is required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-row">
                                    <div class="col">
                                        <label for="packageType">
                                            Package Type
                                        </label>
                                        <ng-multiselect-dropdown [placeholder]="'Choose Package Type'" id="packageType"
                                            [settings]="dropdownSettingsSinglePackage" [data]="packageTypeData"
                                            formControlName="PackageTypeID">
                                        </ng-multiselect-dropdown>
                                        <div style="width:100%;"
                                            *ngIf="submitted && firstFormGroup.controls['PackageTypeID'].errors"
                                            class="invalid-feedback">
                                            <div *ngIf="firstFormGroup.controls['PackageTypeID'].errors['required']">
                                                Package Type is required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-6">
                                <div class="form-row">
                                    <label for="smsProfileID">
                                        SMS Profile
                                    </label>
                                    <input id="smsProfileID" class="form-control" formControlName="SMSProfileID"
                                        autocomplete="off"
                                        [ngClass]="{ 'is-invalid': submitted && firstFormGroup.controls['SMSProfileID'].errors }">
                                    <div *ngIf="submitted && firstFormGroup.controls['SMSProfileID'].errors"
                                        class="invalid-feedback">
                                        <div *ngIf="firstFormGroup.controls['SMSProfileID'].errors['required']">
                                            SMS Profile is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-row">
                                    <label for="smsPhoneNo">
                                        SMS From Phone No
                                    </label>
                                    <input id="smsPhoneNo" class="form-control" formControlName="SMSPhoneNumber"
                                        autocomplete="off" (keypress)="numberOnly($event)" maxlength="10"
                                        [ngClass]="{ 'is-invalid': submitted && firstFormGroup.controls['SMSPhoneNumber'].errors }">
                                    <div *ngIf="submitted && firstFormGroup.controls['SMSPhoneNumber'].errors"
                                        class="invalid-feedback">
                                        <div *ngIf="firstFormGroup.controls['SMSPhoneNumber'].errors['required']">
                                            SMS From Phone No is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-6" style="display: flex;align-items: center;">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" formControlName="SignoutRequired"
                                        value="" id="signOut">
                                    <label class="form-check-label" for="signOut">
                                        Sign In Sign Out functionality Required ?
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-row">
                                    <label for="signOutHours">
                                        Auto Sign-out time (in Hours)
                                    </label>
                                    <input id="signOutHours" class="form-control" formControlName="SignoutHours"
                                        autocomplete="off">
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-6" style="display: flex;align-items: center;">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" formControlName="SpinWheelRequired"
                                        value="" id="spinWheel">
                                    <label class="form-check-label" for="spinWheel">
                                        Spin Wheel Required ?
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-row">
                                    <label for="closureTime">
                                        Daily Business Closure Time
                                    </label>
                                    <input id="closureTime" type="time" class="form-control"
                                        formControlName="BusinessClosureTime"
                                        [ngClass]="{ 'is-invalid': submitted && firstFormGroup.controls['BusinessClosureTime'].errors }">
                                    <div *ngIf="submitted && firstFormGroup.controls['BusinessClosureTime'].errors"
                                        class="invalid-feedback">
                                        <div *ngIf="firstFormGroup.controls['BusinessClosureTime'].errors['required']">
                                            Business Closure Time is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <h4>
                            <b>Create Admin User</b>
                        </h4>

                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-6">
                                <div class="form-row">
                                    <div>
                                        <label for="emailID">
                                            Valid Email
                                        </label>
                                        <i class="icon-fs-info ng-scope"
                                            ngbTooltip="Email Verification link will be send to this Email address"
                                            style="vertical-align: middle;">
                                        </i>
                                    </div>
                                    <input id="emailID" class="form-control" formControlName="EmailID"
                                        autocomplete="off"
                                        [ngClass]="{ 'is-invalid': submitted && firstFormGroup.controls['EmailID'].errors }">
                                    <div *ngIf="submitted && firstFormGroup.controls['EmailID'].errors"
                                        class="invalid-feedback">
                                        <div *ngIf="firstFormGroup.controls['EmailID'].errors['required']">
                                            Email ID is required
                                        </div>
                                        <div *ngIf="firstFormGroup.controls['EmailID'].errors['pattern']">
                                            Enter valid Email ID
                                        </div>
                                    </div>
                                    <div class="Unverified" *ngIf="firstFormGroup.controls['EmailID'].valid"
                                        [ngClass]="{ 'Unverified': !isEmailVerified, 'Verified' : isEmailVerified }">
                                        {{verificationText}}
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-row">
                                    <label for="PhoneNo">
                                        Phone No
                                    </label>
                                    <input id="PhoneNo" class="form-control" formControlName="PhoneNumber"
                                        autocomplete="off" (keypress)="numberOnly($event)" maxlength="10"
                                        [ngClass]="{ 'is-invalid': submitted && firstFormGroup.controls['PhoneNumber'].errors }">
                                    <div *ngIf="submitted && firstFormGroup.controls['PhoneNumber'].errors"
                                        class="invalid-feedback">
                                        <div *ngIf="firstFormGroup.controls['PhoneNumber'].errors['required']">
                                            PhoneNumber is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-6">
                                <div class="form-row">
                                    <label for="firstName">
                                        First Name
                                    </label>
                                    <input id="firstName" class="form-control" formControlName="FirstName"
                                        autocomplete="off"
                                        [ngClass]="{ 'is-invalid': submitted && firstFormGroup.controls['FirstName'].errors }">
                                    <div *ngIf="submitted && firstFormGroup.controls['FirstName'].errors"
                                        class="invalid-feedback">
                                        <div *ngIf="firstFormGroup.controls['FirstName'].errors['required']">
                                            First Name is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-row">
                                    <label for="lastName">
                                        Last Name
                                    </label>
                                    <input id="lastName" class="form-control" formControlName="LastName"
                                        autocomplete="off"
                                        [ngClass]="{ 'is-invalid': submitted && firstFormGroup.controls['LastName'].errors }">
                                    <div *ngIf="submitted && firstFormGroup.controls['LastName'].errors"
                                        class="invalid-feedback">
                                        <div *ngIf="firstFormGroup.controls['LastName'].errors['required']">
                                            Last Name is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-1">
                            <div class="col-md-12 text-center">
                                <button class="btn btn-success text-center" (click)="SaveGroupDetails()"
                                    [disabled]="isLoading" *ngIf="businessGroupID == 'New'">
                                    Save & Continue
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </mat-step>
            <mat-step [stepControl]="secondFormGroup" label="Locations">
                <div class="row mt-1 mb-1" *ngIf="showLocationList">
                    <div class="col-md-12 p-0 d-flex">
                        <div class="col-md-7">

                        </div>
                        <div class="col-md-3">
                            <input class="form-control" placeholder="Search By Location Name" autocomplete="off" />
                        </div>
                        <div class="col-md-2 flexRight">
                            <button class="btn btn-success text-center" (click)="AddNewLocation()">
                                <img alt="phonevector" class="filter-green"
                                    src="../../../assets/img/icons/Create Promotion.svg">
                                Add New Location
                            </button>
                        </div>
                    </div>
                </div>

                <table *ngIf="showLocationList" mat-table [dataSource]="dataSourceBusinessLocation">
                    <ng-container matColumnDef="legalName">
                        <th mat-header-cell *matHeaderCellDef> Business Name </th>
                        <td mat-cell *matCellDef="let element"> {{element.legalName}} </td>
                    </ng-container>
                    <ng-container matColumnDef="businessName">
                        <th mat-header-cell *matHeaderCellDef> Short Name </th>
                        <td mat-cell *matCellDef="let element"> {{element.businessName}} </td>
                    </ng-container>
                    <ng-container matColumnDef="industry">
                        <th mat-header-cell *matHeaderCellDef> Industry </th>
                        <td mat-cell *matCellDef="let element"> {{element.industry}} </td>
                    </ng-container>
                    <ng-container matColumnDef="city">
                        <th mat-header-cell *matHeaderCellDef> City </th>
                        <td mat-cell *matCellDef="let element"> {{element.city}} </td>
                    </ng-container>
                    <ng-container matColumnDef="pinCode">
                        <th mat-header-cell *matHeaderCellDef style="text-align: center;"> Pin Code </th>
                        <td mat-cell *matCellDef="let element" style="text-align: center;"> {{element.pinCode}} </td>
                    </ng-container>
                    <ng-container matColumnDef="Action">
                        <th mat-header-cell style="text-align: center;" *matHeaderCellDef>
                            Edit
                        </th>
                        <td style="text-align: center;" mat-cell *matCellDef="let element">
                            <div>
                                <button (click)="EditBusinessLocation(element)" class="editClass">Edit
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </td>
                    </ng-container>
                    <tr mat-header-row class="tableHeaderCellDiv"
                        *matHeaderRowDef="businessLocationDisplayedColumns; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: businessLocationDisplayedColumns; "></tr>
                </table>

                <form *ngIf="!showLocationList" [formGroup]="secondFormGroup">
                    <div class="wrapper" style="background: white;border-radius: 15px;">
                        <h4>
                            <b>Create Business Location</b>
                        </h4>
                        <ng-template matStepLabel>Locations</ng-template>

                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-12">
                                <div class="form-row">
                                    <div class="col">
                                        <label for="businessName">
                                            Business Name
                                        </label>
                                        <input id="businessName" class="form-control"
                                            formControlName="BusinessLocationName" autocomplete="off"
                                            [ngClass]="{ 'is-invalid': secondStepSubmitted && secondFormGroup.controls['BusinessLocationName'].errors }">
                                        <div *ngIf="secondStepSubmitted && secondFormGroup.controls['BusinessLocationName'].errors"
                                            class="invalid-feedback">
                                            <div
                                                *ngIf="secondFormGroup.controls['BusinessLocationName'].errors['required']">
                                                Business Name is required
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col">
                                        <label for="shortName">
                                            Short Name
                                        </label>
                                        <input id="shortName" class="form-control" formControlName="BusinessShortName"
                                            autocomplete="off"
                                            [ngClass]="{ 'is-invalid': secondStepSubmitted && secondFormGroup.controls['BusinessShortName'].errors }">
                                        <div *ngIf="secondStepSubmitted && secondFormGroup.controls['BusinessShortName'].errors"
                                            class="invalid-feedback">
                                            <div
                                                *ngIf="secondFormGroup.controls['BusinessShortName'].errors['required']">
                                                Business Short Name is required
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col">
                                        <label for="phoneNo">
                                            Phone No
                                        </label>
                                        <input id="phoneNo" class="form-control" formControlName="PhoneNo"
                                            autocomplete="off" (keypress)="numberOnly($event)" maxlength="10"
                                            [ngClass]="{ 'is-invalid': secondStepSubmitted && secondFormGroup.controls['PhoneNo'].errors }">
                                        <div *ngIf="secondStepSubmitted && secondFormGroup.controls['PhoneNo'].errors"
                                            class="invalid-feedback">
                                            <div *ngIf="secondFormGroup.controls['PhoneNo'].errors['required']">
                                                Phone No is required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-12">
                                <div class="form-row">
                                    <div class="col">
                                        <label for="address">
                                            Address
                                        </label>
                                        <input id="address" class="form-control" formControlName="Address"
                                            autocomplete="off"
                                            [ngClass]="{ 'is-invalid': secondStepSubmitted && secondFormGroup.controls['Address'].errors }">
                                        <div *ngIf="secondStepSubmitted && secondFormGroup.controls['Address'].errors"
                                            class="invalid-feedback">
                                            <div *ngIf="secondFormGroup.controls['Address'].errors['required']">
                                                Address is required
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col">
                                        <label for="state">
                                            State
                                        </label>
                                        <ng-multiselect-dropdown [placeholder]="'Select State'" id="state"
                                            [settings]="dropdownSettingsSingleState" [data]="statesData"
                                            formControlName="StateID">
                                        </ng-multiselect-dropdown>
                                        <div style="width:100%;"
                                            *ngIf="secondStepSubmitted && secondFormGroup.controls['StateID'].errors"
                                            class="invalid-feedback">
                                            <div *ngIf="secondFormGroup.controls['StateID'].errors['required']">
                                                State is required
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col">
                                        <label for="pincode">
                                            Pincode
                                        </label>
                                        <input id="pincode" class="form-control" formControlName="Pincode"
                                            autocomplete="off"
                                            [ngClass]="{ 'is-invalid': secondStepSubmitted && secondFormGroup.controls['Pincode'].errors }">
                                        <div *ngIf="secondStepSubmitted && secondFormGroup.controls['Pincode'].errors"
                                            class="invalid-feedback">
                                            <div *ngIf="secondFormGroup.controls['Pincode'].errors['required']">
                                                Pincode is required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-12">
                                <div class="form-row">
                                    <div class="col-md-4">
                                        <label for="businessLabels">
                                            Business Labels (Up to 5 only)
                                        </label>
                                        <input id="businessLabels" class="form-control" [matChipInputFor]="chipGrid"
                                            formControlName="BusinessLabelID" autocomplete="off"
                                            (input)="businessLabelOnChange()"
                                            [ngClass]="{ 'is-invalid': secondStepSubmitted && secondFormGroup.controls['BusinessLabelID'].errors }">
                                        <div
                                            *ngIf='secondFormGroup.controls["BusinessLabelID"].value != undefined && secondFormGroup.controls["BusinessLabelID"].value.length >= 2'>
                                            <mat-list role="list" *ngFor="let label of filteredBusinessLabels"
                                                [value]="label.id">
                                                <mat-list-item role="listitem"
                                                    (click)="selectBusiness(label.id)">{{label.name}}</mat-list-item>
                                            </mat-list>
                                        </div>

                                        <div>
                                            <mat-chip-grid #chipGrid>
                                                <mat-chip-row *ngFor="let b of selectedBusinessLabels">
                                                    {{b.name}}
                                                    <button matChipRemove (click)="removeBusiness(b.id)">
                                                        <mat-icon>cancel</mat-icon>
                                                    </button>
                                                </mat-chip-row>
                                            </mat-chip-grid>
                                        </div>

                                        <div *ngIf="secondStepSubmitted && secondFormGroup.controls['BusinessLabelID'].errors"
                                            class="invalid-feedback">
                                            <div *ngIf="secondFormGroup.controls['BusinessLabelID'].errors['required']">
                                                Business Label is required
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-8">
                                        <label for="description">
                                            Description
                                        </label>
                                        <textarea id="description" class="form-control" formControlName="Description"
                                            autocomplete="off" rows="1"
                                            [ngClass]="{ 'is-invalid': secondStepSubmitted && secondFormGroup.controls['Description'].errors }">
                                        </textarea>
                                        <div *ngIf="secondStepSubmitted && secondFormGroup.controls['Description'].errors"
                                            class="invalid-feedback">
                                            <div *ngIf="secondFormGroup.controls['Description'].errors['required']">
                                                Description is required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-8" style="padding-right: 6px;">
                                <div class="col-md-12"
                                    style="margin-left: 0;padding-left: 0;margin-right: 0;padding-right: 0;">
                                    <div class="form-row">
                                        <div class="col">
                                            <label for="website">
                                                Website Url
                                            </label>
                                            <input id="website" class="form-control" formControlName="WebsiteUrl"
                                                autocomplete="off">
                                        </div>

                                        <div class="col">
                                            <label for="facebook">
                                                Facebook Url
                                            </label>
                                            <input id="facebook" class="form-control" formControlName="FacebookUrl"
                                                autocomplete="off">
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12"
                                    style="margin-top: 1%;margin-left: 0;padding-left: 0;margin-right: 0;padding-right: 0;">
                                    <div class="form-row">
                                        <div class="col">
                                            <label for="twitter">
                                                Twitter Url
                                            </label>
                                            <input id="twitter" class="form-control" formControlName="TwitterUrl"
                                                autocomplete="off">
                                        </div>

                                        <div class="col">
                                            <label for="google">
                                                Google Url
                                            </label>
                                            <input id="google" class="form-control" formControlName="GoogleUrl"
                                                autocomplete="off">
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12"
                                    style="margin-top: 1%;margin-left: 0;padding-left: 0;margin-right: 0;padding-right: 0;">
                                    <div class="form-row">
                                        <div class="col">
                                            <label for="instagram">
                                                Instagram Url
                                            </label>
                                            <input id="instagram" class="form-control" formControlName="InstagramUrl"
                                                autocomplete="off">
                                        </div>

                                        <div class="col">
                                            <label for="yelp">
                                                Yelp Url
                                            </label>
                                            <input id="yelp" class="form-control" formControlName="YelpUrl"
                                                autocomplete="off">
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12"
                                    style="margin-top: 1%;margin-left: 0;padding-left: 0;margin-right: 0;padding-right: 0;">
                                    <div class="form-row">
                                        <div class="col">
                                            <div class="col-md-12" style="margin-left:0; padding-left: 0;">
                                                <label>Business Logo</label>
                                            </div>
                                            <div class="col-md-12">
                                                <input type="file" class="custom-file" id="businessLogo"
                                                    (change)="onChangeBusinessLogo($event)">
                                                <label class="custom-file-label" for="businessLogo">
                                                    Upload Image (Upto 1 MB)
                                                </label>
                                                <div style="width: 80%;background-color: #7DA3BA;height: 20%;margin-top: 1%;
                                                border-radius: 21px;font-size: 65%;" class="progress-bar"
                                                    role="progressbar" [style.width]="uploadProgressBusinessLogo"
                                                    aria-valuenow="uploadProgressBusinessLogo" aria-valuemin="0"
                                                    aria-valuemax="100"
                                                    *ngIf="filePathBusinessLogo != null && filePathBusinessLogo !=undefined">
                                                    {{uploadProgressBusinessLogo}}
                                                </div>
                                            </div>
                                            <div class="col" *ngIf="filePathBusinessLogo != null"
                                                style="position: relative;">
                                                <img src="{{filePathBusinessLogo}}" height="70px" />
                                                <mat-icon class="cancel-upload" (click)="cancelUploadBusinessLogo()"
                                                    *ngIf="uploadProgressBusinessLogo != undefined || (filePathBusinessLogo != null && filePathBusinessLogo !=undefined && filePathBusinessLogo != '')"
                                                    style="color: black; overflow: inherit;position: absolute;margin-left: -4%;">
                                                    cancel
                                                </mat-icon>
                                            </div>
                                        </div>

                                        <div class="col">
                                            <div class="col-md-12" style="margin-left:0; padding-left: 0;">
                                                <label>Display Name</label>
                                            </div>
                                            <div class="col-md-12">
                                                <input type="file" class="custom-file" id="businessDisplayImage"
                                                    (change)="onChangeBusinessDisplayImage($event)">
                                                <label class="custom-file-label" for="businessDisplayImage">
                                                    Upload Image (Upto 1 MB)
                                                </label>
                                                <div style="width: 80%;background-color: #7DA3BA;height: 20%;margin-top: 1%;
                                                    border-radius: 21px;font-size: 65%;" class="progress-bar"
                                                    role="progressbar"
                                                    [style.width]="uploadProgressBusinessDisplayImage"
                                                    aria-valuenow="uploadProgressBusinessDisplayImage" aria-valuemin="0"
                                                    aria-valuemax="100"
                                                    *ngIf="filePathBusinessDisplayImage != null && filePathBusinessDisplayImage !=undefined">
                                                    {{uploadProgressBusinessDisplayImage}}
                                                </div>
                                            </div>
                                            <div class="col" *ngIf="filePathBusinessDisplayImage != null"
                                                style="position: relative;">
                                                <img src="{{filePathBusinessDisplayImage}}" height="70px" />
                                                <mat-icon class="cancel-upload"
                                                    (click)="cancelUploadBusinessDisplayImage()"
                                                    *ngIf="uploadProgressBusinessDisplayImage != undefined || (filePathBusinessDisplayImage != null && filePathBusinessDisplayImage !=undefined && filePathBusinessDisplayImage != '')"
                                                    style="color: black; overflow: inherit;position: absolute;margin-left: -4%;">
                                                    cancel
                                                </mat-icon>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-4" style="margin-left: 0; padding-left: 0;">
                                <div class="col-md-12"
                                    style="margin-left: 0;padding-left: 0;margin-right: 0;padding-right: 0;">
                                    <div class="form-row">
                                        <div class="col-md-12">
                                            <label for="hours">
                                                Business Working Hours
                                            </label>
                                        </div>
                                        <div class="col-md-12">

                                            <div class="row">
                                                <div class="col-md-12 text-center">
                                                    <div class="col-md-1">
                                                        <label><b>Mon</b></label>
                                                    </div>

                                                    <div class="col-md-6 text-center">
                                                        <div class="col-md-3"><label for="monFrom">From: </label></div>
                                                        <div class="col-md-9 pr-0">
                                                            <input type="time" class="form-control" id="monFrom"
                                                                formControlName="MonFromTime">
                                                        </div>
                                                    </div>

                                                    <div class="col-md-5 p-0 text-center">
                                                        <div class="col-md-3 p-0"><label for="monTo">To: </label></div>
                                                        <div class="col-md-9 p-0">
                                                            <input type="time" class="form-control" id="monTo"
                                                                formControlName="MonToTime">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row mt-2">
                                                <div class="col-md-12 text-center">
                                                    <div class="col-md-1">
                                                        <label><b>Tue</b></label>
                                                    </div>

                                                    <div class="col-md-6 text-center">
                                                        <div class="col-md-3"><label for="tueFrom">From: </label></div>
                                                        <div class="col-md-9 pr-0">
                                                            <input type="time" class="form-control" id="tueFrom"
                                                                formControlName="TueFromTime">
                                                        </div>
                                                    </div>

                                                    <div class="col-md-5 p-0 text-center">
                                                        <div class="col-md-3 p-0"><label for="tueTo">To: </label></div>
                                                        <div class="col-md-9 p-0">
                                                            <input type="time" class="form-control" id="tueTo"
                                                                formControlName="TueToTime">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row mt-2">
                                                <div class="col-md-12 text-center">
                                                    <div class="col-md-1">
                                                        <label><b>Wed</b></label>
                                                    </div>

                                                    <div class="col-md-6 text-center">
                                                        <div class="col-md-3"><label for="wedFrom">From: </label></div>
                                                        <div class="col-md-9 pr-0">
                                                            <input type="time" class="form-control" id="wedFrom"
                                                                formControlName="WedFromTime">
                                                        </div>
                                                    </div>

                                                    <div class="col-md-5 p-0 text-center">
                                                        <div class="col-md-3 p-0"><label for="wedTo">To: </label></div>
                                                        <div class="col-md-9 p-0">
                                                            <input type="time" class="form-control" id="wedTo"
                                                                formControlName="WedToTime">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row mt-2">
                                                <div class="col-md-12 text-center">
                                                    <div class="col-md-1">
                                                        <label><b>Thu</b></label>
                                                    </div>

                                                    <div class="col-md-6 text-center">
                                                        <div class="col-md-3"><label for="thuFrom">From: </label></div>
                                                        <div class="col-md-9 pr-0">
                                                            <input type="time" class="form-control" id="thuFrom"
                                                                formControlName="ThuFromTime">
                                                        </div>
                                                    </div>

                                                    <div class="col-md-5 p-0 text-center">
                                                        <div class="col-md-3 p-0"><label for="thuTo">To: </label></div>
                                                        <div class="col-md-9 p-0">
                                                            <input type="time" class="form-control" id="thuTo"
                                                                formControlName="ThuToTime">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row mt-2">
                                                <div class="col-md-12 text-center">
                                                    <div class="col-md-1">
                                                        <label><b>Fri</b></label>
                                                    </div>

                                                    <div class="col-md-6 text-center">
                                                        <div class="col-md-3"><label for="friFrom">From: </label></div>
                                                        <div class="col-md-9 pr-0">
                                                            <input type="time" class="form-control" id="friFrom"
                                                                formControlName="FriFromTime">
                                                        </div>
                                                    </div>

                                                    <div class="col-md-5 p-0 text-center">
                                                        <div class="col-md-3 p-0"><label for="friTo">To: </label></div>
                                                        <div class="col-md-9 p-0">
                                                            <input type="time" class="form-control" id="friTo"
                                                                formControlName="FriToTime">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row mt-2">
                                                <div class="col-md-12 text-center">
                                                    <div class="col-md-1">
                                                        <label><b>Sat</b></label>
                                                    </div>

                                                    <div class="col-md-6 text-center">
                                                        <div class="col-md-3"><label for="satFrom">From: </label></div>
                                                        <div class="col-md-9 pr-0">
                                                            <input type="time" class="form-control" id="satFrom"
                                                                formControlName="SatFromTime">
                                                        </div>
                                                    </div>

                                                    <div class="col-md-5 p-0 text-center">
                                                        <div class="col-md-3 p-0"><label for="satTo">To: </label></div>
                                                        <div class="col-md-9 p-0">
                                                            <input type="time" class="form-control" id="satTo"
                                                                formControlName="SatToTime">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row mt-2">
                                                <div class="col-md-12 text-center">
                                                    <div class="col-md-1">
                                                        <label><b>Sun</b></label>
                                                    </div>

                                                    <div class="col-md-6 text-center">
                                                        <div class="col-md-3"><label for="sunFrom">From: </label></div>
                                                        <div class="col-md-9 pr-0">
                                                            <input type="time" class="form-control" id="sunFrom"
                                                                formControlName="SunFromTime">
                                                        </div>
                                                    </div>

                                                    <div class="col-md-5 p-0 text-center">
                                                        <div class="col-md-3 p-0"><label for="sunTo">To: </label></div>
                                                        <div class="col-md-9 p-0">
                                                            <input type="time" class="form-control" id="sunTo"
                                                                formControlName="SunToTime">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-12">
                                <div class="form-row">
                                    <div class="col-md-3">
                                        <div class="col-md-12" style="margin-left:0; padding-left: 0;">
                                            <label>Image 1</label>
                                        </div>
                                        <div class="col-md-12">
                                            <input type="file" class="custom-file" id="businessImage1"
                                                (change)="onChangeBusinessImage1($event)">
                                            <label class="custom-file-label" for="businessImage1">
                                                Upload Image (Upto 1 MB)
                                            </label>
                                            <div style="width: 80%;background-color: #7DA3BA;height: 20%;margin-top: 1%;
                                            border-radius: 21px;font-size: 65%;" class="progress-bar"
                                                role="progressbar" [style.width]="uploadProgressBusinessImage1"
                                                aria-valuenow="uploadProgressBusinessImage1" aria-valuemin="0"
                                                aria-valuemax="100"
                                                *ngIf="filePathBusinessImage1 != null && filePathBusinessImage1 !=undefined">
                                                {{uploadProgressBusinessImage1}}
                                            </div>
                                        </div>
                                        <div class="col" *ngIf="filePathBusinessImage1 != null"
                                            style="position: relative;">
                                            <img src="{{filePathBusinessImage1}}" height="70px" />
                                            <mat-icon class="cancel-upload" (click)="cancelUploadBusinessImage1()"
                                                *ngIf="uploadProgressBusinessImage1 != undefined || (filePathBusinessImage1 != null && filePathBusinessImage1 !=undefined && filePathBusinessImage1 != '')"
                                                style="color: black; overflow: inherit;position: absolute;margin-left: -4%;">
                                                cancel
                                            </mat-icon>
                                        </div>
                                    </div>

                                    <div class="col-md-3">
                                        <div class="col-md-12" style="margin-left:0; padding-left: 0;">
                                            <label>Image 2</label>
                                        </div>
                                        <div class="col-md-12">
                                            <input type="file" class="custom-file" id="businessImage2"
                                                (change)="onChangeBusinessImage2($event)">
                                            <label class="custom-file-label" for="businessImage2">
                                                Upload Image (Upto 1 MB)
                                            </label>
                                            <div style="width: 80%;background-color: #7DA3BA;height: 20%;margin-top: 1%;
                                            border-radius: 21px;font-size: 65%;" class="progress-bar"
                                                role="progressbar" [style.width]="uploadProgressBusinessImage2"
                                                aria-valuenow="uploadProgressBusinessImage2" aria-valuemin="0"
                                                aria-valuemax="100"
                                                *ngIf="filePathBusinessImage2 != null && filePathBusinessImage2 !=undefined">
                                                {{uploadProgressBusinessImage2}}
                                            </div>
                                        </div>
                                        <div class="col" *ngIf="filePathBusinessImage2 != null"
                                            style="position: relative;">
                                            <img src="{{filePathBusinessImage2}}" height="70px" />
                                            <mat-icon class="cancel-upload" (click)="cancelUploadBusinessImage2()"
                                                *ngIf="uploadProgressBusinessImage2 != undefined || (filePathBusinessImage2 != null && filePathBusinessImage2 !=undefined && filePathBusinessImage2 != '')"
                                                style="color: black; overflow: inherit;position: absolute;margin-left: -4%;">
                                                cancel
                                            </mat-icon>
                                        </div>
                                    </div>

                                    <div class="col-md-3">
                                        <div class="col-md-12" style="margin-left:0; padding-left: 0;">
                                            <label>Image 3</label>
                                        </div>
                                        <div class="col-md-12">
                                            <input type="file" class="custom-file" id="businessImage3"
                                                (change)="onChangeBusinessImage3($event)">
                                            <label class="custom-file-label" for="businessImage3">
                                                Upload Image (Upto 1 MB)
                                            </label>
                                            <div style="width: 80%;background-color: #7DA3BA;height: 20%;margin-top: 1%;
                                            border-radius: 21px;font-size: 65%;" class="progress-bar"
                                                role="progressbar" [style.width]="uploadProgressBusinessImage3"
                                                aria-valuenow="uploadProgressBusinessImage3" aria-valuemin="0"
                                                aria-valuemax="100"
                                                *ngIf="filePathBusinessImage3 != null && filePathBusinessImage3 !=undefined">
                                                {{uploadProgressBusinessImage3}}
                                            </div>
                                        </div>
                                        <div class="col" *ngIf="filePathBusinessImage3 != null"
                                            style="position: relative;">
                                            <img src="{{filePathBusinessImage3}}" height="70px" />
                                            <mat-icon class="cancel-upload" (click)="cancelUploadBusinessImage2()"
                                                *ngIf="uploadProgressBusinessImage3 != undefined || (filePathBusinessImage3 != null && filePathBusinessImage3 !=undefined && filePathBusinessImage3 != '')"
                                                style="color: black; overflow: inherit;position: absolute;margin-left: -4%;">
                                                cancel
                                            </mat-icon>
                                        </div>
                                    </div>

                                    <div class="col-md-3">
                                        <div class="col-md-12" style="margin-left:0; padding-left: 0;">
                                            <label>Image 4</label>
                                        </div>
                                        <div class="col-md-12">
                                            <input type="file" class="custom-file" id="businessImage4"
                                                (change)="onChangeBusinessImage4($event)">
                                            <label class="custom-file-label" for="businessImage4">
                                                Upload Image (Upto 1 MB)
                                            </label>
                                            <div style="width: 80%;background-color: #7DA3BA;height: 20%;margin-top: 1%;
                                            border-radius: 21px;font-size: 65%;" class="progress-bar"
                                                role="progressbar" [style.width]="uploadProgressBusinessImage4"
                                                aria-valuenow="uploadProgressBusinessImage4" aria-valuemin="0"
                                                aria-valuemax="100"
                                                *ngIf="filePathBusinessImage4 != null && filePathBusinessImage4 !=undefined">
                                                {{uploadProgressBusinessImage4}}
                                            </div>
                                        </div>
                                        <div class="col" *ngIf="filePathBusinessImage4 != null"
                                            style="position: relative;">
                                            <img src="{{filePathBusinessImage4}}" height="70px" />
                                            <mat-icon class="cancel-upload" (click)="cancelUploadBusinessImage4()"
                                                *ngIf="uploadProgressBusinessImage4 != undefined || (filePathBusinessImage4 != null && filePathBusinessImage4 !=undefined && filePathBusinessImage4 != '')"
                                                style="color: black; overflow: inherit;position: absolute;margin-left: -4%;">
                                                cancel
                                            </mat-icon>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-1">
                        <div class="col-md-12 text-center">
                            <button class="btn btn-success text-center" (click)="SaveLocationDetails()"
                                [disabled]="isLoading">
                                Save & Continue
                            </button>
                        </div>
                    </div>
                </form>
            </mat-step>
            <mat-step [stepControl]="thirdFormGroup" label="Payment Info">
                <div class="row mt-1 mb-1" *ngIf="showPaymentList">
                    <div class="col-md-12 p-0 d-flex">
                        <div class="col-md-7">

                        </div>
                        <div class="col-md-3">
                            <input class="form-control" placeholder="Search By Location Name" autocomplete="off" />
                        </div>
                        <div class="col-md-2 flexRight">
                            <button class="btn btn-success text-center" (click)="AddNewPaymentInfo()">
                                <img alt="phonevector" class="filter-green"
                                    src="../../../assets/img/icons/Create Promotion.svg">
                                Add Payment Info
                            </button>
                        </div>
                    </div>
                </div>

                <table *ngIf="showPaymentList" mat-table [dataSource]="dataSourcePaymentInfo">
                    <ng-container matColumnDef="businessLocationName">
                        <th mat-header-cell *matHeaderCellDef> Business Name </th>
                        <td mat-cell *matCellDef="let element"> {{element.businessLocationName}} </td>
                    </ng-container>
                    <ng-container matColumnDef="paymentType">
                        <th mat-header-cell *matHeaderCellDef style="text-align: center;"> Payment Type </th>
                        <td mat-cell *matCellDef="let element" style="text-align: center;"> {{element.paymentType}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="cardOrAccNumber">
                        <th mat-header-cell *matHeaderCellDef style="text-align: center;"> Card/Account Number </th>
                        <td mat-cell *matCellDef="let element" style="text-align: center;"> {{element.cardOrAcNumber}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="isDefault">
                        <th mat-header-cell *matHeaderCellDef style="text-align: center;"> Default </th>
                        <td mat-cell *matCellDef="let element" style="text-align: center;"> {{element.isDefault}} </td>
                    </ng-container>
                    <ng-container matColumnDef="Action">
                        <th mat-header-cell style="text-align: center;" *matHeaderCellDef>
                            Edit
                        </th>
                        <td style="text-align: center;" mat-cell *matCellDef="let element">
                            <div>
                                <button (click)="EditPaymentInfo(element)" class="editClass">Edit
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </div>
                        </td>
                    </ng-container>
                    <tr mat-header-row class="tableHeaderCellDiv"
                        *matHeaderRowDef="paymentInfoDisplayedColumns; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: paymentInfoDisplayedColumns; "></tr>
                </table>

                <form [formGroup]="thirdFormGroup" *ngIf="!showPaymentList">
                    <div class="wrapper" style="background: white;border-radius: 15px;">
                        <h4>
                            <b>Create Payment Info</b>
                        </h4>
                        <ng-template matStepLabel>Payment Info</ng-template>
                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-6">
                                <div class="form-row">
                                    <div class="col">
                                        <label for="Industry">
                                            Business Location Name
                                        </label>
                                        <ng-multiselect-dropdown [placeholder]="'Choose Business Location Name'"
                                            id="businessLocationName" [settings]="dropdownSettingsBusinessLocationName"
                                            [data]="businessLocationName" formControlName="BusinessLocationName">
                                        </ng-multiselect-dropdown>
                                        <div style="width:100%;"
                                            *ngIf="submitted && thirdFormGroup.controls['BusinessLocationName'].errors"
                                            class="invalid-feedback">
                                            <div
                                                *ngIf="thirdFormGroup.controls['BusinessLocationName'].errors['required']">
                                                Business Location Type is required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-row">
                                    <div class="col">
                                        <label for="PaymenSchedule" class="mb-3">
                                            Payment Schedule
                                        </label> <br>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" id="monthly" value="1"
                                                formControlName="paymentSchedule" (change)="changePaymentAmount(1)">
                                            <label class="form-check-label" for="monthly">
                                                Monthly
                                            </label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" id="yearly" value="2"
                                                formControlName="paymentSchedule" (change)="changePaymentAmount(2)">
                                            <label class="form-check-label" for="yearly">
                                                Yearly
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-row">
                                    <div *ngIf="thirdFormGroup.get('paymentSchedule').value === '1'">
                                        <label>
                                            Monthly Amount
                                        </label>
                                        <input class="form-control" formControlName="paymentAmountMonthly"
                                            (keypress)="numberOnly($event)" />
                                    </div>
                                    <div *ngIf="thirdFormGroup.get('paymentSchedule').value === '2'">
                                        <label>
                                            Yearly Amount
                                        </label>
                                        <input class="form-control" formControlName="paymentAmountYearly"
                                            (keypress)="numberOnly($event)" />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-6">
                                <div class="form-row">
                                    <div class="col">
                                        <label for="SelectType">
                                            Select Type
                                        </label> <br>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" id="debit" value="1"
                                                formControlName="selectedOption">
                                            <label class="form-check-label" for="debit">
                                                Debit Card
                                            </label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" id="credit" value="2"
                                                formControlName="selectedOption">
                                            <label class="form-check-label" for="credit">
                                                Credit Card
                                            </label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" id="bank" value="3"
                                                formControlName="selectedOption">
                                            <label class="form-check-label" for="bank">
                                                Bank Transfer
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <label for="liveDate">
                                    Go Live Date
                                </label>
                                <input id="liveDate" type="date" class="form-control" formControlName="GoLiveDate" />
                            </div>
                            <div class="col-md-3">

                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 1%;"
                            *ngIf="thirdFormGroup.get('selectedOption').value=='3'">
                            <div class="col-md-6 pl-0 pr-0">
                                <div class="col p-0 d-flex">
                                    <div class="col-md-6">
                                        <div class="form-row">
                                            <label for="AccountNo">
                                                Account Number
                                            </label>
                                            <input id="AccountNo" class="form-control" formControlName="AccNo"
                                                (keypress)="numberOnly($event)"
                                                [ngClass]="{ 'is-invalid': submitted && thirdFormGroup.controls['AccNo'].errors }">
                                            <div *ngIf="submitted && thirdFormGroup.controls['AccNo'].errors"
                                                class="invalid-feedback">
                                                <div *ngIf="thirdFormGroup.controls['AccNo'].errors['required']">
                                                    Account Number is Required
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-row">
                                            <div class="col">
                                                <label for="cardHolderName1">
                                                    Account Holder Name
                                                </label>
                                                <input id="cardHolderName1" class="form-control"
                                                    formControlName="CardHolderName"
                                                    [ngClass]="{ 'is-invalid': submitted && thirdFormGroup.controls['CardHolderName'].errors }"
                                                    style="text-transform: uppercase;">
                                                <div *ngIf="submitted && thirdFormGroup.controls['CardHolderName'].errors"
                                                    class="invalid-feedback">
                                                    <div
                                                        *ngIf="thirdFormGroup.controls['CardHolderName'].errors['required']">
                                                        Account Holder Name is required
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 pl-0 pr-0">
                                <div class="col p-0 d-flex">
                                    <div class="col-md-6">
                                        <div class="form-row">
                                            <label for="RoutingNo">
                                                Routing No.
                                            </label>
                                            <input id="RoutingNo" class="form-control" formControlName="RoutingNo"
                                                [ngClass]="{ 'is-invalid': submitted && thirdFormGroup.controls['RoutingNo'].errors }">
                                            <div *ngIf="submitted && thirdFormGroup.controls['RoutingNo'].errors"
                                                class="invalid-feedback">
                                                <div *ngIf="thirdFormGroup.controls['RoutingNo'].errors['required']">
                                                    Routing Number is Required
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6"></div>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 1%;"
                            *ngIf="thirdFormGroup.get('selectedOption').value!=='3'">
                            <div class="col-md-6 pl-0 pr-0">
                                <div class="col p-0 d-flex">
                                    <div class="col-md-6">
                                        <div class="form-row">
                                            <div class="col">
                                                <label for="CardNo">
                                                    Card Number
                                                </label>
                                                <input id="CardNo" class="form-control" formControlName="CardNo"
                                                    [ngClass]="{ 'is-invalid': submitted && thirdFormGroup.controls['CardNo'].errors }"
                                                    maxlength="16" placeholder="xxxx xxxx xxxx xxxx"
                                                    (keypress)="numberOnly($event)">
                                                <div *ngIf="submitted && thirdFormGroup.controls['CardNo'].errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="thirdFormGroup.controls['CardNo'].errors['required']">
                                                        Card Number is Required
                                                    </div>
                                                    <div *ngIf="thirdFormGroup.controls['CardNo'].errors['pattern']">
                                                        Enter valid Card number
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="form-row">
                                            <div class="col">
                                                <label for="CardHolderName">
                                                    Card Holder Name
                                                </label>
                                                <input id="CardHolderName" class="form-control"
                                                    formControlName="CardHolderName"
                                                    [ngClass]="{ 'is-invalid': submitted && thirdFormGroup.controls['CardHolderName'].errors }"
                                                    style="text-transform: uppercase;">
                                                <div *ngIf="submitted && thirdFormGroup.controls['CardHolderName'].errors"
                                                    class="invalid-feedback">
                                                    <div
                                                        *ngIf="thirdFormGroup.controls['CardHolderName'].errors['required']">
                                                        Card Holder Name is Required
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 pl-0">
                                <div class="col p-0 d-flex">
                                    <div class="col-md-6" style="padding-right: 6px;">
                                        <div class="form-row">
                                            <div class="col">
                                                <label for="expDate">
                                                    Expiry Month/Year
                                                </label>
                                                <input id="expDate" class="form-control" formControlName="ExpiryDate"
                                                    [ngClass]="{ 'is-invalid': submitted && thirdFormGroup.controls['ExpiryDate'].errors }"
                                                    placeholder="MM/YY" maxlength="7">
                                                <div *ngIf="submitted && thirdFormGroup.controls['ExpiryDate'].errors"
                                                    class="invalid-feedback">
                                                    <div
                                                        *ngIf="thirdFormGroup.controls['ExpiryDate'].errors['required']">
                                                        Expiry Date is required
                                                    </div>
                                                    <div
                                                        *ngIf="thirdFormGroup.controls['ExpiryDate'].errors['pattern']">
                                                        Enter valid format for Expiry Date
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-row">
                                            <div class="col">
                                                <label for="cvv">
                                                    CVV
                                                </label>
                                                <input id="cvv" class="form-control" formControlName="Cvv"
                                                    [ngClass]="{ 'is-invalid': submitted && thirdFormGroup.controls['Cvv'].errors }"
                                                    maxlength="3" pattern="[0-9]" (keypress)="numberOnly($event)">
                                                <div *ngIf="submitted && thirdFormGroup.controls['Cvv'].errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="thirdFormGroup.controls['Cvv'].errors['required']">
                                                        This field is required
                                                    </div>
                                                    <div *ngIf="thirdFormGroup.controls['Cvv'].errors['pattern']">
                                                        This field only accepts number
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-6 pl-0">
                                <div class="col p-0 d-flex">
                                    <div class="col-md-6">
                                        <div class="form-row">
                                            <div class="col">
                                                <label for="zipCode">
                                                    Zip Code
                                                </label>
                                                <input id="zipCode" class="form-control" formControlName="ZipCode"
                                                    [ngClass]="{ 'is-invalid': submitted && thirdFormGroup.controls['ZipCode'].errors }"
                                                    maxlength="6">
                                                <div *ngIf="submitted && thirdFormGroup.controls['ZipCode'].errors"
                                                    class="invalid-feedback">
                                                    <div *ngIf="thirdFormGroup.controls['ZipCode'].errors['required']">
                                                        Zip Code is required
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="form-row">
                                            <div class="col" style="margin-top: 36px;">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox"
                                                        formControlName="ChkMakeDefault" value="" id="ChkMakeDefault">
                                                    <label class="form-check-label" for="ChkMakeDefault">
                                                        Make Default
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6"></div>
                        </div>

                        <div class="row mt-1">
                            <div class="col-md-12 text-center">
                                <button class="btn btn-success text-center" (click)="SavePaymentInfo()"
                                    [disabled]="isLoading">
                                    Save & Continue
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </mat-step>
            <mat-step [stepControl]="fourthFormGroup" label="Sources">
                <form [formGroup]="fourthFormGroup">
                    <div class="wrapper" style="background: white;border-radius: 15px;">
                        <h4>
                            <b>Create Sources</b>
                        </h4>
                        <ng-template matStepLabel>Sources</ng-template>
                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-6">
                                <div class="form-row">
                                    <div class="col">
                                        <label for="Industry">
                                            Business Location Name
                                        </label>
                                        <ng-multiselect-dropdown [placeholder]="'Choose Business Location Name'"
                                            id="businessLocationName" [settings]="dropdownSettingsBusinessLocationName"
                                            [data]="businessLocationName" formControlName="SrcBusinessLocationName">
                                        </ng-multiselect-dropdown>
                                        <div style="width:100%;"
                                            *ngIf="submitted && fourthFormGroup.controls['SrcBusinessLocationName'].errors"
                                            class="invalid-feedback">
                                            <div
                                                *ngIf="fourthFormGroup.controls['SrcBusinessLocationName'].errors['required']">
                                                This field is required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 1%;text-align: center;">
                            <div class="col-md-6">
                                <div class="form-row">
                                    <div class="col">
                                        <label for="Industry">
                                            <b>Customer Tablet</b>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-row">
                                    <div class="col">
                                        <label for="Industry">
                                            <b>Store Tablet</b>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-6">
                                <label for="CustTabletBrand">
                                    Tablet Brand
                                </label>
                                <input id="CustTabletBrand" class="form-control" formControlName="CustTabletBrand"
                                    [ngClass]="{ 'is-invalid': submitted && fourthFormGroup.controls['CustTabletBrand'].errors }">
                                <div *ngIf="submitted && fourthFormGroup.controls['CustTabletBrand'].errors"
                                    class="invalid-feedback">
                                    <div *ngIf="fourthFormGroup.controls['CustTabletBrand'].errors['required']">
                                        This field is Required
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label for="StoreTabletBrand">
                                    Tablet Brand
                                </label>
                                <input id="StoreTabletBrand" class="form-control" formControlName="StoreTabletBrand"
                                    [ngClass]="{ 'is-invalid': submitted && fourthFormGroup.controls['StoreTabletBrand'].errors }">
                                <div *ngIf="submitted && fourthFormGroup.controls['StoreTabletBrand'].errors"
                                    class="invalid-feedback">
                                    <div *ngIf="fourthFormGroup.controls['StoreTabletBrand'].errors['required']">
                                        This field is Required
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 1%;">
                            <div class="col-md-6">
                                <label for="CustTabletModel">
                                    Tablet Model
                                </label>
                                <input id="CustTabletModel" class="form-control" formControlName="CustTabletModel"
                                    [ngClass]="{ 'is-invalid': submitted && fourthFormGroup.controls['CustTabletModel'].errors }">
                                <div *ngIf="submitted && fourthFormGroup.controls['CustTabletModel'].errors"
                                    class="invalid-feedback">
                                    <div *ngIf="fourthFormGroup.controls['CustTabletModel'].errors['required']">
                                        This field is Required
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label for="StoreTabletModel">
                                    Tablet Model
                                </label>
                                <input id="StoreTabletModel" class="form-control" formControlName="StoreTabletModel"
                                    [ngClass]="{ 'is-invalid': submitted && fourthFormGroup.controls['StoreTabletModel'].errors }">
                                <div *ngIf="submitted && fourthFormGroup.controls['StoreTabletModel'].errors"
                                    class="invalid-feedback">
                                    <div *ngIf="fourthFormGroup.controls['StoreTabletModel'].errors['required']">
                                        This field is Required
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-1">
                            <div class="col-md-12 text-center">
                                <button matStepperNext class="btn btn-success text-center" (click)="ReviewAndSave()"
                                    [disabled]="isLoading">
                                    Review & Save
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </mat-step>
            <mat-step label="Summary">
                <div class="wrapper" style="background: white;border-radius: 15px;">
                    <h4>
                        <b>Summary of {{firstFormGroup.controls['BusinessgroupName'].value}}</b>
                    </h4>
                    <ng-template matStepLabel>Summary</ng-template>
                    <div class="row" style="margin-bottom: 1%;">
                        <div class="col-md-3">
                            <div class="form-row">
                                <div class="col">
                                    <label>
                                        Business Name : {{firstFormGroup.controls['BusinessgroupName'].value}}
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-row">
                                <div class="col">
                                    <label>
                                        Industry Type : {{firstFormGroup.controls['IndustryTypeID'].value.length != 0 ?
                                        firstFormGroup.controls['IndustryTypeID'].value[0].name : ''}}
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-row">
                                <div class="col">
                                    <label>
                                        Package Type :
                                        {{firstFormGroup.controls['PackageTypeID'].value.length != 0 ?
                                        firstFormGroup.controls['PackageTypeID'].value[0].packageName : ''}}
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row" style="margin-bottom: 1%">
                        <div class="col-md-3">
                            <div class="form-row">
                                <div class="col">
                                    <label>
                                        SMS Profile : {{firstFormGroup.controls['SMSProfileID'].value}}
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-row">
                                <div class="col">
                                    <label>
                                        SMS Phone : {{firstFormGroup.controls['SMSPhoneNumber'].value}}
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-row">
                                <div class="col">
                                    <label>
                                        Spin Wheel : {{firstFormGroup.controls['SpinWheelRequired'].value == true ?
                                        "Yes" : "No"}}
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row" style="margin-bottom: 1%">
                        <div class="col-md-3">
                            <div class="form-row">
                                <div class="col">
                                    <label>
                                        Sign In / Sign Out Required? :
                                        {{firstFormGroup.controls['SignoutRequired'].value == true ? "Yes" : "No"}}
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-row">
                                <div class="col">
                                    <label>
                                        Auto Signout Hours : {{firstFormGroup.controls['SignoutHours'].value}}
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-row">
                                <div class="col">
                                    <label>
                                        Daily Closure Time :
                                        {{firstFormGroup.controls['BusinessClosureTime'].value}}
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row" style="margin-bottom: 1%;">

                        <div class="accordion" id="businessGroupName">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingOne">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                        Business Group
                                    </button>
                                </h2>
                                <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
                                    data-bs-parent="#businessGroupName">
                                    <div class="accordion-body">
                                        {{firstFormGroup.controls['BusinessgroupName'].value}}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="accordion" id="businessLocation">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingTwo">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                        Business Location
                                    </button>
                                </h2>
                                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                                    data-bs-parent="#businessLocation">
                                    <div class="accordion-body">
                                        {{this.secondFormGroup.controls['BusinessLocationName'].value}}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="accordion" id="paymentInfo">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingThree">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#collapseThree" aria-expanded="false"
                                        aria-controls="collapseThree">
                                        Payment Info
                                    </button>
                                </h2>
                                <div id="collapseThree" class="accordion-collapse collapse"
                                    aria-labelledby="headingThree" data-bs-parent="#paymentInfo">
                                    <div class="accordion-body">

                                        <div class="row" style="margin-bottom: 1%">
                                            <div class="col-md-3">
                                                <div class="form-row">
                                                    <div class="col">
                                                        <label>
                                                            Business Name :
                                                            {{firstFormGroup.controls['BusinessgroupName'].value}}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="margin-bottom: 1%">
                                            <div class="col-md-3">
                                                <div class="form-row">
                                                    <div class="col">
                                                        <label>
                                                            Payment Schedule :
                                                            {{thirdFormGroup.controls['paymentSchedule'].value == 1 ?
                                                            "Monthly":
                                                            (thirdFormGroup.controls['paymentSchedule'].value == 2 ?
                                                            "Yearly" : "")}}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="margin-bottom: 1%">
                                            <div class="col-md-3">
                                                <div class="form-row">
                                                    <div class="col">
                                                        <label>
                                                            Payment Type :
                                                            {{thirdFormGroup.controls['selectedOption'].value == 1 ?
                                                            "Debit Card" :
                                                            thirdFormGroup.controls['selectedOption'].value == 2 ?
                                                            "Credit Card" :
                                                            (thirdFormGroup.controls['selectedOption'].value == 3 ?
                                                            "Bank Transfer" : "")}}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row" style="margin-bottom: 1%;"
                                            *ngIf="thirdFormGroup.controls['selectedOption'].value === '1'">
                                            <div class="col-md-3">
                                                <div class="col">
                                                    <label>
                                                        Card Number:
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="col">
                                                    <label>
                                                        Expiry Month/Year:
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="col">
                                                    <label>
                                                        Zip Code:
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="col">
                                                    <label>
                                                        Make Default:
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="margin-bottom: 1%;"
                                            *ngIf="thirdFormGroup.controls['selectedOption'].value === '2'">
                                            <div class="col-md-3">
                                                <div class="col">
                                                    <label>
                                                        Card Number:
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="col">
                                                    <label>
                                                        Expiry Month/Year:
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="col">
                                                    <label>
                                                        Zip Code:
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="col">
                                                    <label>
                                                        Make Default:
                                                    </label>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="row" style="margin-bottom: 1%;"
                                            *ngIf="thirdFormGroup.controls['selectedOption'].value === '3'">
                                            <div class="col-md-3">
                                                <div class="col">
                                                    <label>
                                                        Account Number:
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="col">
                                                    <label>
                                                        Routing Number:
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="col">
                                                    <label>
                                                        Account Holder Name:
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="col">
                                                    <label>
                                                        Zip Code:
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="col">
                                                    <label>
                                                        Make Default:
                                                    </label>
                                                </div>
                                            </div>

                                        </div>

                                        <div class="row" style="margin-bottom: 1%">
                                            <div class="col-md-3">
                                                <div class="form-row">
                                                    <div class="col">
                                                        <label>
                                                            Go Live Date :
                                                            {{thirdFormGroup.controls['GoLiveDate'].value |
                                                            date:'dd-MM-yyyy'}}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="accordion" id="sources">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingFour">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#collapseFour" aria-expanded="false"
                                        aria-controls="collapseFour">
                                        Source
                                    </button>
                                </h2>
                                <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
                                    data-bs-parent="#sources">
                                    <div class="accordion-body">
                                        <div class="row" style="margin-bottom: 1%;">
                                            <label>
                                                Business Location Name :
                                                {{secondFormGroup.controls['BusinessLocationName'].value}}
                                            </label>
                                        </div>
                                        <div class="row" style="margin-bottom: 1%;">
                                            <h4> Customer Tablet </h4>
                                            <label>
                                                Tablet Brand
                                            </label>
                                            <label>
                                                Tablet Model
                                            </label>
                                        </div>
                                        <div class="row" style="margin-bottom: 1%;">
                                            <h4> Store Tablet </h4>
                                            <label>
                                                Tablet Brand
                                            </label>
                                            <label>
                                                Tablet Model
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </mat-step>
        </mat-stepper>
    </div>
</div>